## ✅ Create Internal and External Load Balancer

### 🎯 Objective:
Deploy an Azure **Internal Load Balancer (ILB)** and an **External Load Balancer (ELB)** to distribute traffic across multiple backend virtual machines.

---

## 🌐 Part A: Create External Load Balancer

### 🛠️ Step 1: Create Resource Group and Virtual Network

```bash
az group create \
  --name lb-assignment-rg \
  --location eastus


az network vnet create \
  --resource-group lb-assignment-rg \
  --name lb-vnet \
  --subnet-name lb-subnet


## 💻 Step 2: Create Backend VMs

az vm create \
  --resource-group lb-assignment-rg \
  --name vm1 \
  --vnet-name lb-vnet \
  --subnet lb-subnet \
  --image UbuntuLTS \
  --admin-username azureuser \
  --generate-ssh-keys \
  --no-wait

az vm create \
  --resource-group lb-assignment-rg \
  --name vm2 \
  --vnet-name lb-vnet \
  --subnet lb-subnet \
  --image UbuntuLTS \
  --admin-username azureuser \
  --generate-ssh-keys \
  --no-wait

## 📦 Step 3: Create Public IP for Load Balancer

az network public-ip create \
  --resource-group lb-assignment-rg \
  --name lb-public-ip \
  --sku Standard \
  --allocation-method static

## ⚖️ Step 4: Create Load Balancer and Backend Pool

az network lb create \
  --resource-group lb-assignment-rg \
  --name ext-loadbalancer \
  --frontend-ip-name ext-frontend \
  --backend-pool-name ext-backend-pool \
  --public-ip-address lb-public-ip \
  --sku Standard

## 🔁 Step 5: Add VMs to Backend Pool

az network nic ip-config address-pool add \
  --address-pool ext-backend-pool \
  --ip-config-name ipconfig1 \
  --nic-name vm1VMNic \
  --resource-group lb-assignment-rg \
  --lb-name ext-loadbalancer

az network nic ip-config address-pool add \
  --address-pool ext-backend-pool \
  --ip-config-name ipconfig1 \
  --nic-name vm2VMNic \
  --resource-group lb-assignment-rg \
  --lb-name ext-loadbalancer
